<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ä¸­ä¸œéå¸‚åœºäº§å“åŠæœåŠ¡æ³•è§„è¦æ±‚</title>
    <style>
        :root {
            --primary-color: #2c3e50;
            --secondary-color: #3498db;
            --accent-color: #e74c3c;
            --light-color: #ecf0f1;
            --dark-color: #34495e;
            --success-color: #2ecc71;
            --warning-color: #f39c12;
            --border-radius: 8px;
            --box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            --transition: all 0.3s ease;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f5f7fa;
            padding: 0;
            margin: 0;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }
        
        header {
            background: linear-gradient(135deg, var(--primary-color), var(--dark-color));
            color: white;
            padding: 30px 0;
            text-align: center;
            margin-bottom: 30px;
            border-radius: 0 0 var(--border-radius) var(--border-radius);
            box-shadow: var(--box-shadow);
        }
        
        h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }
        
        .subtitle {
            font-size: 1.2rem;
            opacity: 0.9;
            max-width: 800px;
            margin: 0 auto;
        }
        
        .search-container {
            background: white;
            padding: 20px;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            margin-bottom: 30px;
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
        }
        
        .search-box {
            flex: 1;
            min-width: 300px;
        }
        
        .search-box input {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid #ddd;
            border-radius: var(--border-radius);
            font-size: 1rem;
            transition: var(--transition);
        }
        
        .search-box input:focus {
            outline: none;
            border-color: var(--secondary-color);
            box-shadow: 0 0 0 2px rgba(52, 152, 219, 0.2);
        }
        
        .filter-container {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
        }
        
        .filter-select {
            padding: 12px 15px;
            border: 1px solid #ddd;
            border-radius: var(--border-radius);
            background: white;
            font-size: 1rem;
            min-width: 180px;
            cursor: pointer;
            transition: var(--transition);
        }
        
        .filter-select:focus {
            outline: none;
            border-color: var(--secondary-color);
        }
        
        .main-content {
            display: flex;
            gap: 30px;
        }
        
        .country-sidebar {
            flex: 0 0 250px;
            background: white;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            padding: 20px;
            max-height: 80vh;
            overflow-y: auto;
            position: sticky;
            top: 20px;
        }
        
        .country-list {
            list-style: none;
        }
        
        .country-item {
            padding: 12px 15px;
            margin-bottom: 8px;
            border-radius: var(--border-radius);
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .country-item:hover {
            background: var(--light-color);
        }
        
        .country-item.active {
            background: var(--secondary-color);
            color: white;
        }
        
        .country-flag {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            background: #ddd;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
        }
        
        .content-area {
            flex: 1;
            min-height: 600px;
        }
        
        .country-content {
            background: white;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            padding: 30px;
            display: none;
        }
        
        .country-content.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .country-header {
            display: flex;
            justify-content: between;
            align-items: center;
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 2px solid var(--light-color);
        }
        
        .country-title {
            font-size: 1.8rem;
            color: var(--primary-color);
        }
        
        .category {
            margin-bottom: 30px;
        }
        
        .category-header {
            background: var(--light-color);
            padding: 15px 20px;
            border-radius: var(--border-radius);
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: var(--transition);
            margin-bottom: 15px;
        }
        
        .category-header:hover {
            background: #dfe6e9;
        }
        
        .category-title {
            font-size: 1.3rem;
            color: var(--dark-color);
            font-weight: 600;
        }
        
        .category-icon {
            transition: var(--transition);
        }
        
        .category-content {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 20px;
            padding: 0 10px;
        }
        
        .requirement-card {
            background: white;
            border: 1px solid #e1e8ed;
            border-radius: var(--border-radius);
            padding: 20px;
            transition: var(--transition);
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
            position: relative;
        }
        
        .requirement-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .requirement-title {
            font-size: 1.1rem;
            color: var(--primary-color);
            margin-bottom: 10px;
            padding-bottom: 8px;
            border-bottom: 1px solid #eee;
        }
        
        .requirement-desc {
            margin-bottom: 15px;
            color: #555;
        }
        
        .requirement-standard {
            background: #f8f9fa;
            padding: 12px;
            border-radius: var(--border-radius);
            margin-bottom: 15px;
            font-size: 0.9rem;
            border-left: 3px solid var(--secondary-color);
        }
        
        .requirement-meta {
            display: flex;
            justify-content: space-between;
            margin-bottom: 15px;
            font-size: 0.9rem;
        }
        
        .requirement-authority {
            background: var(--light-color);
            padding: 5px 10px;
            border-radius: 20px;
            color: var(--dark-color);
        }
        
        .requirement-links {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 10px;
        }
        
        .link {
            display: inline-block;
            padding: 6px 12px;
            background: var(--secondary-color);
            color: white;
            text-decoration: none;
            border-radius: 20px;
            font-size: 0.85rem;
            transition: var(--transition);
        }
        
        .link:hover {
            background: #2980b9;
            transform: translateY(-2px);
        }
        
        .pdf-attachments {
            margin-top: 10px;
            padding-top: 10px;
            border-top: 1px dashed #ddd;
        }
        
        .pdf-attachments h5 {
            margin-bottom: 8px;
            color: var(--dark-color);
            font-size: 0.9rem;
        }
        
        .pdf-list {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
        }
        
        .pdf-link {
            display: inline-flex;
            align-items: center;
            gap: 5px;
            padding: 5px 10px;
            background: #e74c3c;
            color: white;
            text-decoration: none;
            border-radius: 4px;
            font-size: 0.8rem;
            transition: var(--transition);
        }
        
        .pdf-link:hover {
            background: #c0392b;
            transform: translateY(-2px);
        }
        
        .pdf-icon {
            font-size: 0.9rem;
        }
        
        .no-results {
            text-align: center;
            padding: 40px;
            color: #7f8c8d;
            font-size: 1.1rem;
        }
        
        footer {
            text-align: center;
            padding: 30px 0;
            margin-top: 50px;
            color: #7f8c8d;
            border-top: 1px solid #e1e8ed;
        }
        
        /* ç®¡ç†å‘˜é¢æ¿æ ·å¼ */
        .admin-panel {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
            border: 1px solid #dee2e6;
        }
        
        .admin-toggle {
            background: #6c757d;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 4px;
            cursor: pointer;
            margin-bottom: 15px;
        }
        
        .edit-form {
            display: none;
            background: white;
            padding: 20px;
            border-radius: 8px;
            margin-top: 15px;
        }
        
        .form-group {
            margin-bottom: 15px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }
        
        .form-control {
            width: 100%;
            padding: 8px 12px;
            border: 1px solid #ced4da;
            border-radius: 4px;
        }
        
        .btn {
            padding: 8px 16px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            margin-right: 10px;
        }
        
        .btn-primary {
            background: #007bff;
            color: white;
        }
        
        .btn-success {
            background: #28a745;
            color: white;
        }
        
        .btn-danger {
            background: #dc3545;
            color: white;
        }
        
        .export-btn {
            background: #17a2b8;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 4px;
            cursor: pointer;
            margin-top: 10px;
        }
        
        .admin-actions {
            display: flex;
            gap: 10px;
            margin-top: 10px;
        }
        
        /* ç¼–è¾‘æŒ‰é’®æ ·å¼ */
        .edit-btn {
            position: absolute;
            top: 10px;
            right: 10px;
            background: var(--warning-color);
            color: white;
            border: none;
            border-radius: 4px;
            padding: 4px 8px;
            font-size: 0.75rem;
            cursor: pointer;
            opacity: 0;
            transition: var(--transition);
        }
        
        .requirement-card:hover .edit-btn {
            opacity: 1;
        }
        
        /* ç°æœ‰æ•°æ®é€‰æ‹©å™¨æ ·å¼ */
        .existing-data-selector {
            margin-bottom: 20px;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 8px;
            border: 1px solid #dee2e6;
        }
        
        .existing-data-selector h4 {
            margin-bottom: 10px;
            color: var(--dark-color);
        }
        
        .selector-row {
            display: flex;
            gap: 10px;
            margin-bottom: 10px;
            flex-wrap: wrap;
        }
        
        .selector-row select {
            flex: 1;
            min-width: 150px;
        }
        
        .load-btn {
            background: var(--success-color);
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 4px;
            cursor: pointer;
        }
        
        /* æç¤ºä¿¡æ¯æ ·å¼ */
        .hint-box {
            background: #e7f3ff;
            border-left: 4px solid var(--secondary-color);
            padding: 10px 15px;
            margin-bottom: 15px;
            border-radius: 4px;
        }
        
        @media (max-width: 992px) {
            .main-content {
                flex-direction: column;
            }
            
            .country-sidebar {
                flex: 1;
                max-height: none;
                position: static;
            }
            
            .country-list {
                display: grid;
                grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
                gap: 10px;
            }
            
            .country-item {
                margin-bottom: 0;
            }
        }
        
        @media (max-width: 768px) {
            .category-content {
                grid-template-columns: 1fr;
            }
            
            .search-container {
                flex-direction: column;
            }
            
            .search-box {
                min-width: 100%;
            }
            
            .filter-container {
                width: 100%;
            }
            
            .filter-select {
                flex: 1;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <h1>ä¸­ä¸œéå¸‚åœºäº§å“åŠæœåŠ¡æ³•è§„è¦æ±‚</h1>
            <p class="subtitle">å¿«é€ŸæŸ¥è¯¢ä¸­ä¸œéå„å›½äº§å“åˆè§„ã€ä¿ä¿®å”®åã€æ•°æ®éšç§ç­‰æ³•è§„è¦æ±‚ï¼ŒåŠ©åŠ›ä¼ä¸šå›½é™…åŒ–åˆè§„ç»è¥</p>
        </div>
    </header>

    <div class="container">
        <!-- ç®¡ç†å‘˜é¢æ¿ -->
        <div class="admin-panel">
            <button class="admin-toggle" onclick="toggleAdminPanel()">æ•°æ®ç®¡ç†</button>
            <button class="export-btn" onclick="exportData()">å¯¼å‡ºæ•°æ®</button>
            
            <div class="edit-form" id="editForm">
                <h3>æ·»åŠ /ç¼–è¾‘å›½å®¶æ•°æ®</h3>
                
                <!-- ç°æœ‰æ•°æ®é€‰æ‹©å™¨ -->
                <div class="existing-data-selector">
                    <h4>é€‰æ‹©ç°æœ‰æ•°æ®è¿›è¡Œç¼–è¾‘</h4>
                    <div class="selector-row">
                        <select class="form-control" id="existingCountry" onchange="updateExistingCategories()">
                            <option value="">-- é€‰æ‹©å›½å®¶ --</option>
                        </select>
                        <select class="form-control" id="existingCategory" onchange="updateExistingElements()">
                            <option value="">-- é€‰æ‹©ç±»åˆ« --</option>
                        </select>
                        <select class="form-control" id="existingElement">
                            <option value="">-- é€‰æ‹©è¦ç´  --</option>
                        </select>
                        <button class="load-btn" onclick="loadExistingData()">åŠ è½½æ•°æ®</button>
                    </div>
                </div>
                
                <!-- PDFé“¾æ¥æç¤º -->
                <div class="hint-box">
                    <strong>PDFé™„ä»¶æç¤ºï¼š</strong> 
                    å¦‚æœæ‚¨å°†PDFæ–‡ä»¶æ”¾åœ¨GitHubä»“åº“çš„<code>pdf_attachments</code>æ–‡ä»¶å¤¹ä¸­ï¼Œé“¾æ¥æ ¼å¼ä¸ºï¼š<code>pdf_attachments/æ–‡ä»¶å.pdf</code>
                </div>
                
                <div class="form-group">
                    <label>é€‰æ‹©å›½å®¶:</label>
                    <select class="form-control" id="editCountry">
                        <option value="">-- é€‰æ‹©å›½å®¶ --</option>
                        <option value="æ²™ç‰¹é˜¿æ‹‰ä¼¯">æ²™ç‰¹é˜¿æ‹‰ä¼¯</option>
                        <option value="é˜¿è”é…‹">é˜¿è”é…‹</option>
                        <option value="å¡å¡”å°”">å¡å¡”å°”</option>
                        <option value="å·´æ—">å·´æ—</option>
                        <option value="ç§‘å¨ç‰¹">ç§‘å¨ç‰¹</option>
                        <option value="ä¼Šæœ—">ä¼Šæœ—</option>
                        <option value="åŸƒåŠ">åŸƒåŠ</option>
                        <option value="å—é">å—é</option>
                        <option value="é˜¿å°”åŠåˆ©äºš">é˜¿å°”åŠåˆ©äºš</option>
                        <option value="æ‘©æ´›å“¥">æ‘©æ´›å“¥</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label>ç±»åˆ«:</label>
                    <select class="form-control" id="editCategory">
                        <option value="äº§å“åˆè§„è¦æ±‚">äº§å“åˆè§„è¦æ±‚</option>
                        <option value="ä¿ä¿®ä¸å”®åæœåŠ¡">ä¿ä¿®ä¸å”®åæœåŠ¡</option>
                        <option value="ä¿¡æ¯æŠ«éœ²ä¸æ•°æ®éšç§">ä¿¡æ¯æŠ«éœ²ä¸æ•°æ®éšç§</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label>è¦ç´ åç§°:</label>
                    <input type="text" class="form-control" id="editElement" placeholder="ä¾‹å¦‚ï¼šå®‰å…¨ä¸è´¨é‡æ ‡å‡†">
                </div>
                
                <div class="form-group">
                    <label>æ³•è§„è¦æ±‚:</label>
                    <textarea class="form-control" id="editRequirement" rows="3" placeholder="è¯¦ç»†æè¿°æ³•è§„è¦æ±‚"></textarea>
                </div>
                
                <div class="form-group">
                    <label>ç›¸å…³æ ‡å‡†:</label>
                    <textarea class="form-control" id="editStandard" rows="2" placeholder="ç›¸å…³æ ‡å‡†ä¿¡æ¯"></textarea>
                </div>
                
                <div class="form-group">
                    <label>ç›‘ç®¡æœºæ„:</label>
                    <input type="text" class="form-control" id="editAuthority" placeholder="ä¾‹å¦‚ï¼šGSO, SASO">
                </div>
                
                <div class="form-group">
                    <label>å‚è€ƒé“¾æ¥ (æ¯è¡Œä¸€ä¸ªï¼Œæ ¼å¼: æ–‡æœ¬|URL):</label>
                    <textarea class="form-control" id="editLinks" rows="3" placeholder="ä¾‹å¦‚ï¼šGSOæ ‡å‡†æŸ¥è¯¢|https://www.gso.org.sa"></textarea>
                </div>
                
                <div class="form-group">
                    <label>PDFé™„ä»¶ (æ¯è¡Œä¸€ä¸ªï¼Œæ ¼å¼: æ–‡æœ¬|URL):</label>
                    <textarea class="form-control" id="editAttachments" rows="3" placeholder="ä¾‹å¦‚ï¼šSASOæ ‡å‡†PDF|pdf_attachments/saso.pdf"></textarea>
                </div>
                
                <div class="admin-actions">
                    <button class="btn btn-primary" onclick="saveData()">ä¿å­˜</button>
                    <button class="btn btn-danger" onclick="clearForm()">æ¸…ç©º</button>
                    <button class="btn" onclick="toggleAdminPanel()">å…³é—­</button>
                </div>
            </div>
        </div>

        <div class="search-container">
            <div class="search-box">
                <input type="text" id="searchInput" placeholder="æœç´¢æ³•è§„è¦æ±‚ã€æ ‡å‡†æˆ–å…³é”®è¯...">
            </div>
            <div class="filter-container">
                <select class="filter-select" id="countryFilter">
                    <option value="">æ‰€æœ‰å›½å®¶</option>
                </select>
                <select class="filter-select" id="categoryFilter">
                    <option value="">æ‰€æœ‰ç±»åˆ«</option>
                    <option value="äº§å“åˆè§„è¦æ±‚">äº§å“åˆè§„è¦æ±‚</option>
                    <option value="ä¿ä¿®ä¸å”®åæœåŠ¡">ä¿ä¿®ä¸å”®åæœåŠ¡</option>
                    <option value="ä¿¡æ¯æŠ«éœ²ä¸æ•°æ®éšç§">ä¿¡æ¯æŠ«éœ²ä¸æ•°æ®éšç§</option>
                </select>
            </div>
        </div>

        <div class="main-content">
            <div class="country-sidebar">
                <h3 style="margin-bottom: 15px; color: var(--primary-color);">é€‰æ‹©å›½å®¶</h3>
                <ul class="country-list" id="countryList">
                    <!-- å›½å®¶åˆ—è¡¨å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
                </ul>
            </div>

            <div class="content-area" id="contentArea">
                <!-- å†…å®¹å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
                <div class="no-results" id="noResults" style="display: none;">
                    <p>æœªæ‰¾åˆ°åŒ¹é…çš„æ³•è§„è¦æ±‚ï¼Œè¯·å°è¯•å…¶ä»–æœç´¢æ¡ä»¶ã€‚</p>
                </div>
            </div>
        </div>
    </div>

    <footer>
        <div class="container">
            <p>ä¸­ä¸œéå¸‚åœºæ³•è§„è¦æ±‚æŸ¥è¯¢ç³»ç»Ÿ &copy; 2023</p>
            <p>æ•°æ®æ¥æºï¼šä¸­ä¸œéå¸‚åœºå„ä¸ªå›½å®¶äº§å“åŠæœåŠ¡æ³•è§„è¦æ±‚è¦ç‚¹.xlsx | 
                <a href="javascript:void(0)" onclick="toggleAdminPanel()">æ•°æ®ç®¡ç†</a> | 
                <a href="javascript:void(0)" onclick="exportData()">å¯¼å‡ºæ•°æ®</a>
            </p>
        </div>
    </footer>

    <script>
        // å®Œæ•´çš„æ•°æ®ç»“æ„
        let countriesData = {
            "æ²™ç‰¹é˜¿æ‹‰ä¼¯": {
                "äº§å“åˆè§„è¦æ±‚": [
                    {
                        "è¦ç´ ": "å®‰å…¨ä¸è´¨é‡æ ‡å‡†",
                        "è¦æ±‚": "æ‰€æœ‰è¿›å£åŠé”€å”®è½¦è¾†å¿…é¡»ç¬¦åˆ SASO æŠ€æœ¯æ³•è§„ï¼ˆTechnical Regulations for Vehicles & Partsï¼‰ï¼Œå¹¶åœ¨è¿›å£å‰é€šè¿‡ SABER å¹³å°å–å¾—äº§å“ç¬¦åˆæ€§è¯ä¹¦ (Certificate of Conformity, CoC)ã€‚ä¸ç¬¦åˆæ ‡å‡†çš„è½¦è¾†ç¦æ­¢æ¸…å…³ã€‚",
                        "æ ‡å‡†": "å‚è€ƒåé¢é“¾æ¥ï¼ˆä»¥ä¸‹ä¸¾ä¾‹ï¼‰\nGSO MV-2026 MY-D2\nSASO 2900: 2021 - å®‰å…¨æ ‡å‡†\nSASO DMS è®¤è¯ - é˜²ç›—ç³»ç»Ÿ\nSASO 2917: 2020 - è½®èƒ\nSASO CoC è®¤è¯",
                        "ç›‘ç®¡æœºæ„": "GSO\nSASO\nZATCA Vehicle Import Controls",
                        "å‚è€ƒé“¾æ¥": [
                            {"text": "GSOæ ‡å‡†æŸ¥è¯¢", "url": "https://www.gso.org.sa/store/standards?query=vehicle"},
                            {"text": "SASOå®˜ç½‘", "url": "https://www.saso.gov.sa/en/pages/default.aspx"},
                            {"text": "ZATCAè½¦è¾†è¿›å£æœåŠ¡", "url": "https://zatca.gov.sa/"}
                        ],
                        "é™„ä»¶": [
                            {"text": "SASO 2900æ ‡å‡†PDF", "url": "pdf_attachments/saso-2900.pdf"},
                            {"text": "GSO MV-2026æŠ€æœ¯è§„èŒƒ", "url": "pdf_attachments/gso-mv-2026.pdf"}
                        ]
                    },
                    {
                        "è¦ç´ ": "ç¯ä¿ä¸ç‡ƒæ²¹ç»æµæ€§æ ‡å‡†",
                        "è¦æ±‚": "æ‰€æœ‰è½»å‹è½¦è¾†å¿…é¡»ç¬¦åˆ æ²™ç‰¹ç‡ƒæ²¹ç»æµæ€§æ ‡å‡†ï¼ˆCAFEï¼‰ å¹¶å¼ è´´èƒ½æ•ˆæ ‡ç­¾ã€‚æ’æ”¾éœ€æ»¡è¶³æ¬§5åŠç­‰æ•ˆ",
                        "æ ‡å‡†": "å‚è€ƒé“¾æ¥ï¼ˆä»¥ä¸‹ä¸¾ä¾‹ï¼‰\nã€ŠTechnical Regulations for Motor Vehicles (2025 MYâ€‘D3)ã€‹Euroâ€¯5 æ’æ”¾\nSASO 2847: 2025 - æ²¹è€—ä¸æ ‡ç­¾",
                        "ç›‘ç®¡æœºæ„": "GSO\nSASO \nSaudi Energy Efficiency Center (SEEC)",
                        "å‚è€ƒé“¾æ¥": [
                            {"text": "GSOæ ‡å‡†æŸ¥è¯¢", "url": "https://www.gso.org.sa/store/standards?query=vehicle"},
                            {"text": "SASOå®˜ç½‘", "url": "https://www.saso.gov.sa/en/pages/default.aspx"},
                            {"text": "SEECå®˜ç½‘", "url": "https://www.seec.gov.sa/en"}
                        ],
                        "é™„ä»¶": [
                            {"text": "ç‡ƒæ²¹ç»æµæ€§æ ‡å‡†PDF", "url": "pdf_attachments/fuel-economy.pdf"}
                        ]
                    }
                ],
                "ä¿ä¿®ä¸å”®åæœåŠ¡": [
                    {
                        "è¦ç´ ": "æ³•å®šä¿ä¿®æœŸ",
                        "è¦æ±‚": "æ— ç»Ÿä¸€æ³•å®šå¹´é™ï¼Œä½†æ ¹æ®ã€Šå•†ä¸šä»£ç†æ³•ã€‹ï¼Œç»é”€å•†éœ€æä¾›\"åˆç†æœŸé™\"çš„ä¿ä¿®ï¼ˆé€šå¸¸ â‰¥3å¹´æˆ–100,000 kmï¼‰ï¼Œå¹¶å±¥è¡Œå‚å•†æ‰¿è¯ºã€‚",
                        "æ ‡å‡†": "ã€ŠConsumer Protection Lawã€‹Article 46 Compliance with applicable requirementsï¼šEconomic operators who make available a product or a service to the consumer shall ensure that this product or service fully complies with standards and specifications, quality standards and other applicable terms and requirements.\nArticle 51ï¼šThe economic operator shall be liable towards the consumer for any breach of legal warranty which becomes apparent within two years of the time of delivery of the product.",
                        "ç›‘ç®¡æœºæ„": "MOC + Commercial Agencies Law",
                        "å‚è€ƒé“¾æ¥": [
                            {"text": "æ¶ˆè´¹è€…ä¿æŠ¤æ³•", "url": "https://istitlaa.ncc.gov.sa/en/Trade/mci/Consumer/Pages/default.aspx?utm_source=chatgpt.com"}
                        ],
                        "é™„ä»¶": [
                            {"text": "æ¶ˆè´¹è€…ä¿æŠ¤æ³•PDF", "url": "pdf_attachments/consumer-protection.pdf"}
                        ]
                    }
                ],
                "ä¿¡æ¯æŠ«éœ²ä¸æ•°æ®éšç§": [
                    {
                        "è¦ç´ ": "äº§å“ä¿¡æ¯",
                        "è¦æ±‚": "ç»é”€å•†å¿…é¡»æ¸…æ™°æŠ«éœ²è½¦è¾†å‹å·ã€è§„æ ¼ã€äº§åœ°ã€ä»·æ ¼ã€ç¨è´¹ã€ä¿ä¿®ç­‰ã€‚",
                        "æ ‡å‡†": "ã€ŠConsumer Protection Lawã€‹Article 28: Disclosure requirements at contracting",
                        "ç›‘ç®¡æœºæ„": "MOC Consumer Protection Law â€” Art. 5â€“8",
                        "å‚è€ƒé“¾æ¥": [
                            {"text": "æ¶ˆè´¹è€…ä¿æŠ¤æ³•", "url": "https://istitlaa.ncc.gov.sa/en/Trade/mci/Consumer/Pages/default.aspx?utm_source=chatgpt.com"}
                        ],
                        "é™„ä»¶": []
                    }
                ]
            },
            "é˜¿è”é…‹": {
                "äº§å“åˆè§„è¦æ±‚": [
                    {
                        "è¦ç´ ": "å®‰å…¨ä¸è´¨é‡æ ‡å‡†",
                        "è¦æ±‚": "æ‰€æœ‰è¿›å…¥ UAE å¸‚åœºçš„æ–°è½¦ å¿…é¡»å–å¾— ESMA/è”é‚¦çš„ Type Approval è½¦è¾†å‹å¼è®¤è¯ï¼ˆTACï¼‰ã€‚åŒ…å«ï¼šå®‰å…¨æ ‡å‡†ã€åˆ¶åŠ¨ã€ç¢°æ’ã€ç…§æ˜ã€VINã€è½®èƒã€ESMA é€‚ç”¨çš„ GSO/GCC æŠ€æœ¯æ³•è§„ç­‰ã€‚æœªè· TAC ä¸å¾—è¿›å£ä¸é”€å”®ã€‚",
                        "æ ‡å‡†": "å‚è€ƒåé¢é“¾æ¥ï¼ˆä»¥ä¸‹ä¸ºä¸¾ä¾‹ï¼‰\nGSO MV-2026 MY-D2\nUAE.S 2698:2024",
                        "ç›‘ç®¡æœºæ„": "ESMAï¼ˆEmirates Authority for Standardization & Metrologyï¼‰",
                        "å‚è€ƒé“¾æ¥": [
                            {"text": "GSOæ ‡å‡†æŸ¥è¯¢", "url": "https://www.gso.org.sa/store/standards?query=vehicle"},
                            {"text": "MOIATå®˜ç½‘", "url": "https://moiat.gov.ae/en/"}
                        ],
                        "é™„ä»¶": [
                            {"text": "ESMAè®¤è¯æŒ‡å—PDF", "url": "pdf_attachments/esma-guide.pdf"}
                        ]
                    }
                ],
                "ä¿ä¿®ä¸å”®åæœåŠ¡": [
                    {
                        "è¦ç´ ": "æ³•å®šä¿ä¿®æœŸ",
                        "è¦æ±‚": "UAE æ³•å®šä¿ä¿®ç”±è”é‚¦æ¶ˆè´¹è€…ä¿æŠ¤æ³•æ¡†æ¶è§„å®šï¼šé¡»æä¾›æ˜ç¡®ä¹¦é¢ä¿ä¿®ï¼Œä¸”ä¿ä¿®æ¡æ¬¾å¿…é¡»é€æ˜ã€å¯ç†è§£å¹¶å‘ç”¨æˆ·æŠ«éœ²ã€‚ä¿ä¿®æœŸé™ç”±åˆ¶é€ å•†/ç»é”€å•†æ‰¿è¯ºï¼Œä½†å¿…é¡»åˆç†å¹¶ç¬¦åˆè¡Œä¸šé€šå¸¸æ°´å¹³ã€‚å¸¸è§ï¼š3â€“5 å¹´ã€‚",
                        "æ ‡å‡†": "ã€ŠFederal Law No. 15/2020 On Consumer Protectionã€‹Article 10 - Obligation of the Supplier to implement the Warranty\n1.The Supplier shall implement all Warranties, provide the required spare parts and maintenance, replace the Good, or\nrefund its monetary value, and commit to After-Sales Service as regards the sold Goods, within the specified time limit.",
                        "ç›‘ç®¡æœºæ„": "MoEï¼ˆMinistry of Economyï¼‰",
                        "å‚è€ƒé“¾æ¥": [
                            {"text": "æ¶ˆè´¹è€…ä¿æŠ¤ç«‹æ³•", "url": "https://www.moet.gov.ae/en/consumer-protection-legislations"}
                        ],
                        "é™„ä»¶": []
                    }
                ],
                "ä¿¡æ¯æŠ«éœ²ä¸æ•°æ®éšç§": [
                    {
                        "è¦ç´ ": "äº§å“ä¿¡æ¯",
                        "è¦æ±‚": "ç»é”€å•†å¿…é¡»åœ¨é”€å”®å‰æŠ«éœ²ï¼šä»·æ ¼ã€å‹å·ã€é…ç½®ã€äº§åœ°ã€ä¿ä¿®æ¡æ¬¾ã€ç¨è´¹ã€èƒ½æ•ˆç­‰çº§ã€äº¤è½¦æ—¶é—´ã€‚æ‰€æœ‰ä¿¡æ¯é¡»çœŸå®ã€å®Œæ•´ã€ä¸å¾—è¯¯å¯¼ã€‚",
                        "æ ‡å‡†": "ã€ŠFederal Law No. 15/2020 On Consumer Protectionã€‹ Article 8 - Price of Good and Service",
                        "ç›‘ç®¡æœºæ„": "MoEï¼ˆMinistry of Economyï¼‰",
                        "å‚è€ƒé“¾æ¥": [
                            {"text": "æ¶ˆè´¹è€…ä¿æŠ¤ç«‹æ³•", "url": "https://www.moet.gov.ae/en/consumer-protection-legislations"}
                        ],
                        "é™„ä»¶": []
                    }
                ]
            },
            "å¡å¡”å°”": {
                "äº§å“åˆè§„è¦æ±‚": [
                    {
                        "è¦ç´ ": "å®‰å…¨ä¸è´¨é‡æ ‡å‡†",
                        "è¦æ±‚": "æ–°è½¦é¡»ç¬¦åˆ GSO / GCC æŠ€æœ¯æ³•è§„ï¼ˆMotor Vehicles technical regsï¼‰ï¼Œè¿›å£æ—¶éœ€æäº¤ç¬¦åˆæ€§è¯æ˜ï¼ˆCoC / Certificate of Conformityï¼‰æˆ–ç›¸åº”å‹å¼æ‰¹å‡†æ–‡ä»¶ï¼›æœªåˆæ ¼è½¦è¾†ç¦æ­¢æŠ•æ”¾å¸‚åœºã€‚",
                        "æ ‡å‡†": "å‚è€ƒåé¢é“¾æ¥ï¼ˆä»¥ä¸‹ä¸ºä¸¾ä¾‹ï¼‰\nGSO MV-2026 MY-D2",
                        "ç›‘ç®¡æœºæ„": "GSOï¼ˆGulf Standardization Organizationï¼‰ï¼›MoCIï¼ˆQatar Ministry of Commerce & Industryï¼‰",
                        "å‚è€ƒé“¾æ¥": [
                            {"text": "GSOæ ‡å‡†æŸ¥è¯¢", "url": "https://www.gso.org.sa/store/standards?query=vehicle"},
                            {"text": "MoCIå®˜ç½‘", "url": "https://www.moci.gov.qa/en/"}
                        ],
                        "é™„ä»¶": [
                            {"text": "GSOæŠ€æœ¯è§„èŒƒPDF", "url": "pdf_attachments/gso-spec.pdf"}
                        ]
                    }
                ],
                "ä¿ä¿®ä¸å”®åæœåŠ¡": [
                    {
                        "è¦ç´ ": "æ³•å®šä¿ä¿®æœŸ",
                        "è¦æ±‚": "å¡å¡”å°”ã€Šæ¶ˆè´¹è€…ä¿æŠ¤æ³•ã€‹ï¼ˆLaw No.8/2008ï¼‰èµ‹äºˆæ¶ˆè´¹è€…åœ¨å•†å“ä¸ç¬¦åˆæ ‡å‡†æˆ–æœ‰ç¼ºé™·æ—¶è¦æ±‚ä¿®ç†/æ›´æ¢/é€€è´§çš„æƒåˆ©ï¼›å‚å•†/ç»é”€å•†éœ€åœ¨å”®å‰æä¾›ä¹¦é¢ä¿ä¿®å¹¶åœ¨åˆåŒä¸­æ˜ç¤ºæ¡æ¬¾",
                        "æ ‡å‡†": "the supplier shall recall the commodity and provide the consumer with a refund or exchange, or repair the defect free of charge.",
                        "ç›‘ç®¡æœºæ„": "MoCI",
                        "å‚è€ƒé“¾æ¥": [
                            {"text": "æ¶ˆè´¹è€…ä¿æŠ¤æ³•", "url": "https://www.almeezan.qa/LawArticles.aspx?LawTreeSectionID=9819&language=en&lawId=2647&utm_source=chatgpt.com"}
                        ],
                        "é™„ä»¶": []
                    }
                ],
                "ä¿¡æ¯æŠ«éœ²ä¸æ•°æ®éšç§": []
            },
            "å·´æ—": {
                "äº§å“åˆè§„è¦æ±‚": [],
                "ä¿ä¿®ä¸å”®åæœåŠ¡": [],
                "ä¿¡æ¯æŠ«éœ²ä¸æ•°æ®éšç§": []
            },
            "ç§‘å¨ç‰¹": {
                "äº§å“åˆè§„è¦æ±‚": [],
                "ä¿ä¿®ä¸å”®åæœåŠ¡": [],
                "ä¿¡æ¯æŠ«éœ²ä¸æ•°æ®éšç§": []
            },
            "ä¼Šæœ—": {
                "äº§å“åˆè§„è¦æ±‚": [],
                "ä¿ä¿®ä¸å”®åæœåŠ¡": [],
                "ä¿¡æ¯æŠ«éœ²ä¸æ•°æ®éšç§": []
            },
            "åŸƒåŠ": {
                "äº§å“åˆè§„è¦æ±‚": [],
                "ä¿ä¿®ä¸å”®åæœåŠ¡": [],
                "ä¿¡æ¯æŠ«éœ²ä¸æ•°æ®éšç§": []
            },
            "å—é": {
                "äº§å“åˆè§„è¦æ±‚": [],
                "ä¿ä¿®ä¸å”®åæœåŠ¡": [],
                "ä¿¡æ¯æŠ«éœ²ä¸æ•°æ®éšç§": []
            },
            "é˜¿å°”åŠåˆ©äºš": {
                "äº§å“åˆè§„è¦æ±‚": [],
                "ä¿ä¿®ä¸å”®åæœåŠ¡": [],
                "ä¿¡æ¯æŠ«éœ²ä¸æ•°æ®éšç§": []
            },
            "æ‘©æ´›å“¥": {
                "äº§å“åˆè§„è¦æ±‚": [],
                "ä¿ä¿®ä¸å”®åæœåŠ¡": [],
                "ä¿¡æ¯æŠ«éœ²ä¸æ•°æ®éšç§": []
            }
        };

        // åˆå§‹åŒ–é¡µé¢
        document.addEventListener('DOMContentLoaded', function() {
            initCountryList();
            initExistingDataSelectors();
            showCountry('æ²™ç‰¹é˜¿æ‹‰ä¼¯');
            
            // æœç´¢åŠŸèƒ½
            document.getElementById('searchInput').addEventListener('input', function() {
                filterContent();
            });
            
            // ç­›é€‰åŠŸèƒ½
            document.getElementById('countryFilter').addEventListener('change', filterContent);
            document.getElementById('categoryFilter').addEventListener('change', filterContent);
        });

        // åˆå§‹åŒ–å›½å®¶åˆ—è¡¨
        function initCountryList() {
            const countryList = document.getElementById('countryList');
            const countryFilter = document.getElementById('countryFilter');
            
            Object.keys(countriesData).forEach(country => {
                // æ·»åŠ åˆ°ä¾§è¾¹æ 
                const listItem = document.createElement('li');
                listItem.className = 'country-item';
                listItem.innerHTML = `
                    <div class="country-flag">${country.charAt(0)}</div>
                    <span>${country}</span>
                `;
                listItem.addEventListener('click', () => {
                    document.querySelectorAll('.country-item').forEach(item => {
                        item.classList.remove('active');
                    });
                    listItem.classList.add('active');
                    showCountry(country);
                });
                countryList.appendChild(listItem);
                
                // æ·»åŠ åˆ°ç­›é€‰å™¨
                const option = document.createElement('option');
                option.value = country;
                option.textContent = country;
                countryFilter.appendChild(option);
            });
        }

        // åˆå§‹åŒ–ç°æœ‰æ•°æ®é€‰æ‹©å™¨
        function initExistingDataSelectors() {
            const existingCountry = document.getElementById('existingCountry');
            
            // æ·»åŠ å›½å®¶é€‰é¡¹
            Object.keys(countriesData).forEach(country => {
                const option = document.createElement('option');
                option.value = country;
                option.textContent = country;
                existingCountry.appendChild(option);
            });
            
            updateExistingCategories();
        }

        // æ›´æ–°ç°æœ‰æ•°æ®é€‰æ‹©å™¨çš„ç±»åˆ«é€‰é¡¹
        function updateExistingCategories() {
            const existingCountry = document.getElementById('existingCountry').value;
            const existingCategory = document.getElementById('existingCategory');
            
            // æ¸…ç©ºç°æœ‰é€‰é¡¹
            existingCategory.innerHTML = '<option value="">-- é€‰æ‹©ç±»åˆ« --</option>';
            
            if (!existingCountry) return;
            
            // æ·»åŠ ç±»åˆ«é€‰é¡¹
            Object.keys(countriesData[existingCountry]).forEach(category => {
                const option = document.createElement('option');
                option.value = category;
                option.textContent = category;
                existingCategory.appendChild(option);
            });
            
            updateExistingElements();
        }

        // æ›´æ–°ç°æœ‰æ•°æ®é€‰æ‹©å™¨çš„è¦ç´ é€‰é¡¹
        function updateExistingElements() {
            const existingCountry = document.getElementById('existingCountry').value;
            const existingCategory = document.getElementById('existingCategory').value;
            const existingElement = document.getElementById('existingElement');
            
            // æ¸…ç©ºç°æœ‰é€‰é¡¹
            existingElement.innerHTML = '<option value="">-- é€‰æ‹©è¦ç´  --</option>';
            
            if (!existingCountry || !existingCategory) return;
            
            // æ·»åŠ è¦ç´ é€‰é¡¹
            countriesData[existingCountry][existingCategory].forEach(item => {
                const option = document.createElement('option');
                option.value = item.è¦ç´ ;
                option.textContent = item.è¦ç´ ;
                existingElement.appendChild(option);
            });
        }

        // åŠ è½½ç°æœ‰æ•°æ®åˆ°è¡¨å•
        function loadExistingData() {
            const country = document.getElementById('existingCountry').value;
            const category = document.getElementById('existingCategory').value;
            const element = document.getElementById('existingElement').value;
            
            if (!country || !category || !element) {
                alert('è¯·é€‰æ‹©å›½å®¶ã€ç±»åˆ«å’Œè¦ç´ ');
                return;
            }
            
            // æŸ¥æ‰¾æ•°æ®
            const item = countriesData[country][category].find(item => item.è¦ç´  === element);
            
            if (!item) {
                alert('æœªæ‰¾åˆ°å¯¹åº”çš„æ•°æ®');
                return;
            }
            
            // å¡«å……è¡¨å•
            document.getElementById('editCountry').value = country;
            document.getElementById('editCategory').value = category;
            document.getElementById('editElement').value = item.è¦ç´ ;
            document.getElementById('editRequirement').value = item.è¦æ±‚;
            document.getElementById('editStandard').value = item.æ ‡å‡† || '';
            document.getElementById('editAuthority').value = item.ç›‘ç®¡æœºæ„ || '';
            
            // å¤„ç†å‚è€ƒé“¾æ¥
            const linksText = item.å‚è€ƒé“¾æ¥ ? item.å‚è€ƒé“¾æ¥.map(link => `${link.text}|${link.url}`).join('\n') : '';
            document.getElementById('editLinks').value = linksText;
            
            // å¤„ç†é™„ä»¶
            const attachmentsText = item.é™„ä»¶ ? item.é™„ä»¶.map(attachment => `${attachment.text}|${attachment.url}`).join('\n') : '';
            document.getElementById('editAttachments').value = attachmentsText;
            
            alert('æ•°æ®å·²åŠ è½½åˆ°è¡¨å•ï¼Œå¯ä»¥ç¼–è¾‘åä¿å­˜');
        }

        // æ˜¾ç¤ºå›½å®¶å†…å®¹
        function showCountry(country) {
            const contentArea = document.getElementById('contentArea');
            const countryData = countriesData[country];
            
            let contentHTML = `
                <div class="country-content active" data-country="${country}">
                    <div class="country-header">
                        <h2 class="country-title">${country}æ³•è§„è¦æ±‚</h2>
                    </div>
            `;
            
            // éå†ç±»åˆ«
            Object.keys(countryData).forEach(category => {
                if (countryData[category].length > 0) {
                    contentHTML += `
                        <div class="category" data-category="${category}">
                            <div class="category-header">
                                <h3 class="category-title">${category}</h3>
                                <span class="category-icon">â–¼</span>
                            </div>
                            <div class="category-content">
                    `;
                    
                    // éå†è¯¥ç±»åˆ«ä¸‹çš„è¦æ±‚
                    countryData[category].forEach(requirement => {
                        let linksHTML = '';
                        if (requirement.å‚è€ƒé“¾æ¥ && requirement.å‚è€ƒé“¾æ¥.length > 0) {
                            linksHTML = requirement.å‚è€ƒé“¾æ¥.map(link => 
                                `<a href="${link.url}" target="_blank" class="link">${link.text}</a>`
                            ).join('');
                        }
                        
                        let attachmentsHTML = '';
                        if (requirement.é™„ä»¶ && requirement.é™„ä»¶.length > 0) {
                            attachmentsHTML = `
                                <div class="pdf-attachments">
                                    <h5>ç›¸å…³PDFé™„ä»¶ï¼š</h5>
                                    <div class="pdf-list">
                                        ${requirement.é™„ä»¶.map(attachment => 
                                            `<a href="${attachment.url}" target="_blank" class="pdf-link">
                                                <span class="pdf-icon">ğŸ“„</span> ${attachment.text}
                                            </a>`
                                        ).join('')}
                                    </div>
                                </div>
                            `;
                        }
                        
                        contentHTML += `
                            <div class="requirement-card" data-element="${requirement.è¦ç´ }">
                                <button class="edit-btn" onclick="loadDataForEdit('${country}', '${category}', '${requirement.è¦ç´ }')">ç¼–è¾‘</button>
                                <h4 class="requirement-title">${requirement.è¦ç´ }</h4>
                                <p class="requirement-desc">${requirement.è¦æ±‚}</p>
                                ${requirement.æ ‡å‡† ? `<div class="requirement-standard">${requirement.æ ‡å‡†}</div>` : ''}
                                <div class="requirement-meta">
                                    <span class="requirement-authority">${requirement.ç›‘ç®¡æœºæ„}</span>
                                </div>
                                ${linksHTML ? `<div class="requirement-links">${linksHTML}</div>` : ''}
                                ${attachmentsHTML}
                            </div>
                        `;
                    });
                    
                    contentHTML += `
                            </div>
                        </div>
                    `;
                }
            });
            
            contentHTML += `</div>`;
            contentArea.innerHTML = contentHTML;
            
            // æ·»åŠ ç±»åˆ«æŠ˜å åŠŸèƒ½
            document.querySelectorAll('.category-header').forEach(header => {
                header.addEventListener('click', function() {
                    const content = this.nextElementSibling;
                    const icon = this.querySelector('.category-icon');
                    
                    if (content.style.display === 'none' || content.style.display === '') {
                        content.style.display = 'grid';
                        icon.textContent = 'â–¼';
                    } else {
                        content.style.display = 'none';
                        icon.textContent = 'â–¶';
                    }
                });
            });
            
            // éšè—æ— ç»“æœæç¤º
            document.getElementById('noResults').style.display = 'none';
        }

        // ç›´æ¥ä»å¡ç‰‡åŠ è½½æ•°æ®è¿›è¡Œç¼–è¾‘
        function loadDataForEdit(country, category, element) {
            // ç¡®ä¿ç¼–è¾‘é¢æ¿æ˜¯æ‰“å¼€çš„
            document.getElementById('editForm').style.display = 'block';
            
            // è®¾ç½®é€‰æ‹©å™¨çš„å€¼
            document.getElementById('existingCountry').value = country;
            updateExistingCategories();
            document.getElementById('existingCategory').value = category;
            updateExistingElements();
            document.getElementById('existingElement').value = element;
            
            // åŠ è½½æ•°æ®
            loadExistingData();
        }

        // ç­›é€‰å†…å®¹
        function filterContent() {
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();
            const selectedCountry = document.getElementById('countryFilter').value;
            const selectedCategory = document.getElementById('categoryFilter').value;
            
            let hasResults = false;
            
            // éå†æ‰€æœ‰å›½å®¶å†…å®¹
            document.querySelectorAll('.country-content').forEach(countryContent => {
                const country = countryContent.getAttribute('data-country');
                let countryHasResults = false;
                
                // å¦‚æœé€‰æ‹©äº†ç‰¹å®šå›½å®¶ä¸”ä¸åŒ¹é…ï¼Œåˆ™éšè—
                if (selectedCountry && country !== selectedCountry) {
                    countryContent.style.display = 'none';
                    return;
                }
                
                // éå†ç±»åˆ«
                countryContent.querySelectorAll('.category').forEach(category => {
                    const categoryName = category.getAttribute('data-category');
                    let categoryHasResults = false;
                    
                    // å¦‚æœé€‰æ‹©äº†ç‰¹å®šç±»åˆ«ä¸”ä¸åŒ¹é…ï¼Œåˆ™éšè—
                    if (selectedCategory && categoryName !== selectedCategory) {
                        category.style.display = 'none';
                        return;
                    }
                    
                    // éå†è¦æ±‚å¡ç‰‡
                    category.querySelectorAll('.requirement-card').forEach(card => {
                        const element = card.getAttribute('data-element');
                        const text = card.textContent.toLowerCase();
                        
                        // æ£€æŸ¥æ˜¯å¦åŒ¹é…æœç´¢è¯
                        const matchesSearch = !searchTerm || text.includes(searchTerm);
                        
                        if (matchesSearch) {
                            card.style.display = 'block';
                            categoryHasResults = true;
                            countryHasResults = true;
                            hasResults = true;
                        } else {
                            card.style.display = 'none';
                        }
                    });
                    
                    // æ˜¾ç¤º/éšè—ç±»åˆ«
                    category.style.display = categoryHasResults ? 'block' : 'none';
                    
                    // å¦‚æœç±»åˆ«æœ‰ç»“æœï¼Œå±•å¼€å†…å®¹
                    if (categoryHasResults) {
                        category.querySelector('.category-content').style.display = 'grid';
                        category.querySelector('.category-icon').textContent = 'â–¼';
                    }
                });
                
                // æ˜¾ç¤º/éšè—å›½å®¶å†…å®¹
                countryContent.style.display = countryHasResults ? 'block' : 'none';
            });
            
            // æ˜¾ç¤º/éšè—æ— ç»“æœæç¤º
            document.getElementById('noResults').style.display = hasResults ? 'none' : 'block';
        }

        // æ•°æ®ç®¡ç†åŠŸèƒ½
        function toggleAdminPanel() {
            const form = document.getElementById('editForm');
            form.style.display = form.style.display === 'none' ? 'block' : 'none';
        }

        function saveData() {
            const country = document.getElementById('editCountry').value;
            const category = document.getElementById('editCategory').value;
            const element = document.getElementById('editElement').value;
            const requirement = document.getElementById('editRequirement').value;
            const standard = document.getElementById('editStandard').value;
            const authority = document.getElementById('editAuthority').value;
            const linksText = document.getElementById('editLinks').value;
            const attachmentsText = document.getElementById('editAttachments').value;
            
            if (!country || !category || !element || !requirement) {
                alert('è¯·å¡«å†™å¿…å¡«å­—æ®µï¼šå›½å®¶ã€ç±»åˆ«ã€è¦ç´ åç§°å’Œæ³•è§„è¦æ±‚');
                return;
            }
            
            // è§£æé“¾æ¥
            const links = [];
            if (linksText) {
                const linkLines = linksText.split('\n');
                linkLines.forEach(line => {
                    const parts = line.split('|');
                    if (parts.length === 2) {
                        links.push({
                            text: parts[0].trim(),
                            url: parts[1].trim()
                        });
                    }
                });
            }
            
            // è§£æé™„ä»¶
            const attachments = [];
            if (attachmentsText) {
                const attachmentLines = attachmentsText.split('\n');
                attachmentLines.forEach(line => {
                    const parts = line.split('|');
                    if (parts.length === 2) {
                        attachments.push({
                            text: parts[0].trim(),
                            url: parts[1].trim()
                        });
                    }
                });
            }
            
            // ç¡®ä¿å›½å®¶æ•°æ®ç»“æ„å­˜åœ¨
            if (!countriesData[country]) {
                countriesData[country] = {
                    "äº§å“åˆè§„è¦æ±‚": [],
                    "ä¿ä¿®ä¸å”®åæœåŠ¡": [],
                    "ä¿¡æ¯æŠ«éœ²ä¸æ•°æ®éšç§": []
                };
            }
            
            // æŸ¥æ‰¾æ˜¯å¦å·²å­˜åœ¨ç›¸åŒè¦ç´ 
            const existingIndex = countriesData[country][category].findIndex(item => item.è¦ç´  === element);
            
            const newItem = {
                è¦ç´ : element,
                è¦æ±‚: requirement,
                æ ‡å‡†: standard,
                ç›‘ç®¡æœºæ„: authority,
                å‚è€ƒé“¾æ¥: links,
                é™„ä»¶: attachments
            };
            
            if (existingIndex >= 0) {
                // æ›´æ–°ç°æœ‰é¡¹
                countriesData[country][category][existingIndex] = newItem;
            } else {
                // æ·»åŠ æ–°é¡¹
                countriesData[country][category].push(newItem);
            }
            
            // é‡æ–°åŠ è½½æ˜¾ç¤ºå½“å‰å›½å®¶
            showCountry(country);
            
            // æ¸…ç©ºè¡¨å•
            clearForm();
            
            alert('æ•°æ®ä¿å­˜æˆåŠŸï¼');
        }

        function clearForm() {
            document.getElementById('editElement').value = '';
            document.getElementById('editRequirement').value = '';
            document.getElementById('editStandard').value = '';
            document.getElementById('editAuthority').value = '';
            document.getElementById('editLinks').value = '';
            document.getElementById('editAttachments').value = '';
        }

        function exportData() {
            const dataStr = JSON.stringify(countriesData, null, 2);
            const dataBlob = new Blob([dataStr], {type: 'application/json'});
            
            const url = URL.createObjectURL(dataBlob);
            const link = document.createElement('a');
            link.href = url;
            link.download = 'ä¸­ä¸œéå¸‚åœºæ³•è§„æ•°æ®.json';
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
        }
    </script>
</body>
</html>